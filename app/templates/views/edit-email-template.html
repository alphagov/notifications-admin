{% extends "withnav_template.html" %}
{% from "components/page-header.html" import page_header %}
{% from "components/page-footer.html" import sticky_page_footer %}
{% from "components/form.html" import form_wrapper %}
{% from "govuk_frontend_jinja/components/back-link/macro.html" import govukBackLink %}

{% block service_page_title %}
  {{ heading_action }} email template
{% endblock %}

{% block backLink %}
  {{ govukBackLink({
    "href": back_link
  }) }}
{% endblock %}

{% block maincolumn_content %}

    {{ page_header('{} email template'.format(heading_action)) }}

    {% call form_wrapper() %}
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-five-sixths">
          {{ form.name(param_extensions={
            "classes": "govuk-!-width-full",
            "hint": {"text": "Your recipients will not see this"}
          }) }}
          {{ form.subject(param_extensions={
            "classes": "govuk-!-width-full govuk-textarea-highlight__textbox",
            "rows": "2",
            "attributes": {
              "data-notify-module": "enhanced-textbox",
              "data-highlight-placeholders": "true"
            },
            "formGroup": {
              "classes": "govuk-textarea-highlight",
            }
          }) }}
          {{ form.has_unsubscribe_link }}
          {{ form.template_content(param_extensions={
            "classes": "govuk-!-width-full govuk-textarea-highlight__textbox",
            "attributes": {
              "data-notify-module": "enhanced-textbox",
              "data-highlight-placeholders": "true"
            },
            "formGroup": {
              "classes": "govuk-textarea-highlight",
            }
          }) }}
          {{ sticky_page_footer(
            'Save'
          ) }}
        </div>
        <div class="govuk-grid-column-full">

          <hr style="height:3px;border-width:0;color:rgb(180, 180, 180);background-color:rgb(180, 180, 180)">

          <h2 class="heading-medium">Template editing options</h2>
          <p class="govuk-body"><a class="govuk-link govuk-link--no-visited-state" href="#formatting">Formatting text</a></p>
          <p class="govuk-body"><a class="govuk-link govuk-link--no-visited-state" href="#personalisation">Personalisation</a></p>
          <p class="govuk-body"><a class="govuk-link govuk-link--no-visited-state" href="#optional-content">Optional content</a></p>
          <p class="govuk-body"><a class="govuk-link govuk-link--no-visited-state" href="#links-and-urls">Links and URLs</a>
          </p>
          <p class="govuk-body"><a class="govuk-link govuk-link--no-visited-state" href="#send-files-by-email">Send files by email</a>
          </p>

          <hr style="height:3px;border-width:0;color:rgb(180, 180, 180);background-color:rgb(180, 180, 180)">

          {% include "partials/templates/guidance-formatting.html" %}
          <hr style="height:3px;border-width:0;color:rgb(180, 180, 180);background-color:rgb(180, 180, 180)">
          {% include "partials/templates/guidance-personalisation.html" %}
          <hr style="height:3px;border-width:0;color:rgb(180, 180, 180);background-color:rgb(180, 180, 180)">
          {% include "partials/templates/guidance-optional-content.html" %}
          <hr style="height:3px;border-width:0;color:rgb(180, 180, 180);background-color:rgb(180, 180, 180)">
          {% include "partials/templates/guidance-links-urls-emails.html" %}
          <hr style="height:3px;border-width:0;color:rgb(180, 180, 180);background-color:rgb(180, 180, 180)">
          {% include "partials/templates/guidance-send-files-by-email.html" %}
        </div>
      </div>
    {% endcall %}

{% endblock %}
