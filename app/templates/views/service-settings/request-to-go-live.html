{% extends "withnav_template.html" %}
{% from "components/checkbox.html" import checkbox_group %}
{% from "components/textbox.html" import textbox %}
{% from "components/radios.html" import radios %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/banner.html" import banner_wrapper %}
{% from "components/task-list.html" import task_list_wrapper, task_list_item %}

{% block service_page_title %}
  Before you request to go live
{% endblock %}

{% block maincolumn_content %}
  <div class="grid-row">
    <div class="column-whole">
      <h1 class="heading-large">Before you request to go live</h1>
      {% call task_list_wrapper() %}
        {{ task_list_item(
          current_service.has_team_members,
          'Add a team member who can manage settings, team and usage',
          url_for('main.manage_users', service_id=current_service.id),
        ) }}
        {{ task_list_item(
          current_service.has_templates,
          'Add templates with examples of the content you plan to send',
          url_for('main.choose_template', service_id=current_service.id),
        ) }}
        {% if current_service.has_email_templates %}
          {{ task_list_item(
            current_service.has_email_reply_to_address,
            'Add an email reply-to address',
            url_for('main.service_email_reply_to', service_id=current_service.id),
          ) }}
        {% endif %}
        {% if current_service.has_sms_templates and current_service.shouldnt_use_govuk_as_sms_sender %}
          {{ task_list_item(
            not current_service.sms_sender_is_govuk,
            'Change your text message sender name',
            url_for('main.service_sms_senders', service_id=current_service.id),
          ) }}
        {% endif %}
        {% if show_agreement %}
          {{ task_list_item(
            agreement_signed,
            'Sign our data sharing and financial agreement',
            url_for('main.agreement'),
          ) }}
        {% endif %}
      {% endcall %}
      {% if current_user.is_gov_user %}
        <p>
          You also need to accept our <a href="{{ url_for('.terms') }}">terms of use</a>.
        </p>
        <p>
          <a href="{{ url_for('main.submit_request_to_go_live', service_id=current_service.id) }}" class="button">Continue</a>
        </p>
      {% else %}
        <p>
          Only team members with a government email address can request to go live.
        </p>
      {% endif %}
    </div>
  </div>
{% endblock %}
