{% extends "withnav_template.html" %}
{% from "components/sms-message.html" import sms_message %}
{% from "components/email-message.html" import email_message %}
{% from "components/browse-list.html" import browse_list %}

{% block page_title %}
GOV.UK Notify | Manage templates
{% endblock %}

{% block maincolumn_content %}

    <div class="grid-row">
      <div class="column-two-thirds">

        <h1 class="heading-xlarge">Templates</h1>

        <p>
          <a href="{{ url_for('.add_service_template', service_id=service_id) }}">Create new template</a>

        {% for template in templates %}
          {% if template.type == 'sms' %}
            {{ sms_message(
              template.content,
              name=template.name,
              edit_link=url_for('.edit_service_template', service_id=template.service, template_id=template.id)
            ) }}
          {% elif template.type == 'email' %}
            {{ email_message(
              "template subject",
              template.content,
              name=template.name,
              edit_link=url_for('.edit_service_template', service_id=template.service, template_id=template.id)
            ) }}
          {% endif %}
        {% endfor %}

      </div>
    </div>

{% endblock %}
