{% extends "withnav_template.html" %}
{% from "components/table.html" import list_table, row, field %}
{% from "components/page-footer.html" import page_footer %}

{% block page_title %}
GOV.UK Notify | Manage users
{% endblock %}

{% block maincolumn_content %}

<h1 class="heading-large">Manage users</h1>

<p>
  <a href="#" class="button">Invite users</a>
</p>

{% call(item) list_table(
  users,
  caption='Active users',
  field_headings=['Name', 'Send messages', 'Manage Service', 'Manage API keys', 'Link to change'],
  field_headings_visible=True,
  caption_visible=True
) %}
  {% call field() %}
    {{ item.name }}
  {% endcall %}
  {% call field() %}
    {{ "✔" if item.permission_send_messages else "❌" }}
  {% endcall %}
  {% call field() %}
    {{ "✔" if item.permission_manage_service else "❌" }}
  {% endcall %}
  {% call field() %}
    {{ "✔" if item.permission_manage_api_keys else "❌" }}
  {% endcall %}
  {% call field(align='right') %}
    <a href="#">Change</a>
  {% endcall %}
{% endcall %}

{% call(item) list_table(
  invited_users,
  caption='Invited users',
  field_headings=['Name', 'Send messages', 'Manage Service', 'Manage API keys', 'Link to change'],
  field_headings_visible=True,
  caption_visible=True
) %}
  {% call field() %}
    {{ item.email_localpart }}
  {% endcall %}
  {% call field() %}
    {{ "✔" if item.permission_send_messages else "❌" }}
  {% endcall %}
  {% call field() %}
    {{ "✔" if item.permission_manage_service else "❌" }}
  {% endcall %}
  {% call field() %}
    {{ "✔" if item.permission_manage_api_keys else "❌" }}
  {% endcall %}
  {% call field(align='right') %}
    <a href="#">Change</a>
  {% endcall %}
{% endcall %}

{% endblock %}
